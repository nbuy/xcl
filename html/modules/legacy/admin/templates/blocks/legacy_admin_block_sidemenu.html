<{foreach item="module" from=$modules}>

<{assign var="mid" value=$module->mXoopsModule->getVar('mid')}>
<{assign var="dirname" value=$module->mXoopsModule->getVar('dirname', 'N')}>

<{if $module->hasAdminIndex()}>

<li>

	<div class="nav-block">
		<span class="nav-module-icon"><!-- Module Icon --></span>
		<span class="nav-module-name t<{$mid}>"><{$module->mXoopsModule->getVar('name')}></span>
	</div>


		<ul class="nav-module-admin nav-block-close c<{$mid}>">


		<{if $module->getAdminMenu()}>


			<{* ---------- ---------- ---------- ---------- ---------- Module Admin Links *}>


			<{foreach item="menu" from=$module->getAdminMenu()}>
			<{if $menu.show !== false}>
				<li class="nav-module-link"><a href="<{$menu.link|xoops_escape:link}>"><{$menu.title|xoops_escape}></a></li>
				<{/if}>
			<{/foreach}>


			<{* ---------- ---------- ---------- ---------- ---------- Module Admin Options *}>

			<li class="nav-module-link nav-module-options">


				<{* ---------- ---------- ---------- ---------- ---------- Module Edit *}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleEdit&amp;mid=<{$mid}>" title="<{$smarty.const._EDIT}>">
					<img src="<{"icons/icon-edit.svg"|theme}>" class="svg">
				</a>


				<{* ---------- ---------- ---------- ---------- ---------- Module Blocks *}>

				<{if $module->mXoopsModule->getInfo('blocks') && $dirname != "legacy" && $dirname != "altsys"  && $dirname != "system"}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=BlockList&amp;dirname=<{$dirname}>" title="<{$smarty.const._MI_LEGACY_MENU_BLOCKLIST}>">
					<img src="<{"icons/icon-block-active.svg"|theme}>" class="svg">
				</a>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=BlockInstallList&amp;dirname=<{$dirname}>" title="<{$smarty.const._MI_LEGACY_MENU_BLOCKINSTALL}>">
					<img src="<{"icons/icon-block-install.svg"|theme}>" class="svg">
				</a>

				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Templates *}>


				<{if $dirname != "legacyRender" && $dirname != "altsys"  && $dirname != "system"}>
				<{foreach item="tplmodule" from=$tplmodules}>
				<{if $dirname == $tplmodule}>
				<a href="<{$xoops_url}>/modules/legacyRender/admin/index.php?action=TplfileList&amp;tpl_module=<{$dirname}>&amp;sort=-9" title="<{$smarty.const._AD_LEGACY_LANG_TEMPLATE_INFO}>">
					<img src="<{"icons/icon-file-view.svg"|theme}>" class="svg">
				</a>
				<{/if}>
				<{/foreach}>
				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Comments *}>


				<{if $module->mXoopsModule->getInfo('hasComments')}>
				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=CommentList&amp;com_modid=<{$mid}>&amp;sort=-8" title="<{$smarty.const._MI_LEGACY_MENU_COMMENT_MANAGE}>">
					<img src="<{"icons/icon-comments.svg"|theme}>" class="svg">
				</a>
				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Update *}>


				<{if $module->mXoopsModule->hasNeedUpdate()}>
				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleUpdate&amp;dirname=<{$dirname}>" alt="<{$smarty.const._AD_LEGACY_LANG_UPGRADE}>" title="<{$smarty.const._AD_LEGACY_LANG_UPGRADE}>">
					<img src="<{"icons/icon-package-update.svg"|theme}>" class="svg">
				</a>
				<{else}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleUpdate&amp;dirname=<{$dirname}>" alt="<{$smarty.const._AD_LEGACY_LANG_UPGRADE}>" title="<{$smarty.const._AD_LEGACY_LANG_UPGRADE}>">
					<img src="<{"icons/icon-update.svg"|theme}>" class="svg">
				</a>
				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Info *}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleInfo&amp;dirname=<{$dirname}>" title="<{$smarty.const._AD_LEGACY_LANG_INFORMATION}>">
					<img src="<{"icons/icon-info.svg"|theme}>" class="svg">
				</a>

			</li>

			<{else}>


			<{* ---------- ---------- ---------- ---------- ---------- Module No-Settings *}>

			<li class="nav-module-link">

				<{$smarty.const._AD_LEGACY_LANG_NO_SETTING}>

			</li>

			<{/if}>

		</ul>

	</li>

  <{/if}>

<{/foreach}>
